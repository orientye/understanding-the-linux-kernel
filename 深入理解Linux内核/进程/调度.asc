:toc:
:toclevels: 5
:hardbreaks-option:

== 调度

=== 演进
https://www.zhihu.com/question/35484429

=== 目的
调度器的任务是分配CPU资源，目标是兼顾效率和公平。
效率主要体现为吞吐量和延迟，吞吐量和延迟是一对相互矛盾的指标，例如有两种比较典型的任务: 强调吞吐量对延迟不敏感的CPU密集型，以及延迟敏感不太在意吞吐量的IO密集型。
公平是让每个任务都有机会获得调度，同时为了效率，需要不同的策略。

=== 调度策略
ps -eLfc可以在CLS查看调度策略
cls         CLS       scheduling class of the process.(alias policy, cls). 
Field's possible values are:
    -   not reported
    TS  SCHED_OTHER
    FF  SCHED_FIFO
    RR  SCHED_RR
    B   SCHED_BATCH
    ISO SCHED_ISO
    IDL SCHED_IDLE
    DLN SCHED_DEADLINE
    ?   unknown value

[source,c]
.https://github.com/torvalds/linux/blob/master/include/uapi/linux/sched.h
----
/*
 * Scheduling policies
 */
#define SCHED_NORMAL    0
#define SCHED_FIFO		1
#define SCHED_RR		2
#define SCHED_BATCH		3
/* SCHED_ISO: reserved but not implemented yet */
#define SCHED_IDLE		5
#define SCHED_DEADLINE  6
----

__schedule函数: https://github.com/torvalds/linux/blob/master/kernel/sched/core.c

==== 完全公平调度
https://www.kernel.org/doc/Documentation/scheduler/sched-design-CFS.txt

==== 实时调度

==== 调度增强

=== v0.12
https://elixir.bootlin.com/linux/0.12/source/kernel/sched.c