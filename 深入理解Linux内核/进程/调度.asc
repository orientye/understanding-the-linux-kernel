:toc:
:toclevels: 5
:hardbreaks-option:

== 调度

=== 演进
https://www.zhihu.com/question/35484429

=== 调度器
调度器的任务是分配CPU资源，目标是兼顾效率和公平。
效率主要体现在吞吐量和延迟。但吞吐量和延迟有时候是矛盾的。例如CPU密集型，强调吞吐量，对延迟不敏感，IO密集型则延迟敏感，不太在意吞吐量。
公平是让每个任务都有机会，但难点是根据要兼顾不同任务的效率。

ps -eLfc可以在CLS查看调度策略

[source,c]
.https://github.com/torvalds/linux/blob/master/include/uapi/linux/sched.h
----
/*
 * Scheduling policies
 */
#define SCHED_NORMAL    0
#define SCHED_FIFO		1
#define SCHED_RR		2
#define SCHED_BATCH		3
/* SCHED_ISO: reserved but not implemented yet */
#define SCHED_IDLE		5
#define SCHED_DEADLINE  6
----

__schedule函数: https://github.com/torvalds/linux/blob/master/kernel/sched/core.c

=== 完全公平调度
https://www.kernel.org/doc/Documentation/scheduler/sched-design-CFS.txt

=== 实时调度

=== 调度增强

=== v0.12
https://elixir.bootlin.com/linux/0.12/source/kernel/sched.c