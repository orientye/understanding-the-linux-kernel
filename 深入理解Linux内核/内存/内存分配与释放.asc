:toc:
:toclevels: 5
:hardbreaks-option:

== 内存分配与释放

=== 演进
==== 伙伴分配器
https://www.kernel.org/doc/gorman/html/understand/understand009.html

==== 对象分配器
▪ SLAB

▪ SLUB

▪ SLOB

==== 连续内存分配器(CMA)
since 3.5


=== 用户空间
==== 堆栈

==== 堆
===== brk
SYSCALL_DEFINE1(brk, unsigned long, brk):
https://github.com/torvalds/linux/blob/master/mm/mmap.c
https://github.com/torvalds/linux/blob/master/mm/nommu.c

===== mmap
SYSCALL_DEFINE6(mmap_pgoff
https://github.com/torvalds/linux/blob/master/mm/mmap.c
https://github.com/torvalds/linux/blob/master/mm/nommu.c

    ksys_mmap_pgoff
        vm_mmap_pgoff
            do_mmap
                mmap_region

=== 内核空间

=== 参考
https://www.cnblogs.com/arnoldlu/p/8251333.html