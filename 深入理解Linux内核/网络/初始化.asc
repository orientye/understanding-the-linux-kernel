:toc:
:toclevels: 5
:hardbreaks-option:

== 初始化

▪ 网络设备初始化
net_dev_init()
https://elixir.bootlin.com/linux/latest/source/net/core/dev.c

    struct softnet_data
        https://elixir.bootlin.com/linux/latest/source/include/linux/netdevice.h
        struct softnet_data每个CPU一个
    open_softirq(NET_TX_SOFTIRQ, net_tx_action);
    open_softirq(NET_RX_SOFTIRQ, net_rx_action);

▪ PCI层和网络接口卡
ISA PCI PCI-e

▪ 组件初始化的内核基础架构
netdev_boot_setup()
https://elixir.bootlin.com/linux/latest/source/net/core/dev.c

▪ 设备注册和初始化
xxx_setup
例如Ethernet设备的ether_setup(): https://elixir.bootlin.com/linux/latest/source/net/ethernet/eth.c